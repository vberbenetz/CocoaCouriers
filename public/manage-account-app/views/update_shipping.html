<div class="ng-cloak" ng-cloak>
    <div class="divider double-line"></div>

    <h1 class="text-center"><a href="/My-Account"><button class="btn btn-green pull-left"><span class="fa fa-chevron-left"></span> Back</button></a> Update Shipping Information <button class="btn btn-default pull-right" ng-click="logout()">Logout</button></h1>

    <div class="divider double-line"></div>

    <div class="col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2">

        <div class="row" ng-show="$parent.altShippingAddr">
            <div class="margin-bottom-30 col-lg-6 col-lg-offset-6 col-md-9 col-md-offset-3">
                <div class="address-box">
                    <div class="bg-emerald-green opacity-9 radius-8 padding-top-15 padding-bottom-15">
                        <div class="row margin-left-15 margin-right-15">
                            <div class="col-xs-8">
                                <span class="text-white">{{ $parent.altShippingAddr.name }} <br/></span>
                                <span ng-if="$parent.altShippingAddr.company" class="text-white">{{ $parent.altShippingAddr.company }}<br/></span>
                                <span class="text-white">{{ $parent.altShippingAddr.street1 }} <br/></span>
                                <span ng-if="$parent.altShippingAddr.street2" class="text-white">{{ $parent.altShippingAddr.street2 }} <br/></span>
                                <span ng-if="$parent.altShippingAddr.street3" class="text-white">{{ $parent.altShippingAddr.street3 }}<br/></span>
                                <span class="text-white">{{ $parent.altShippingAddr.city | capitalizeFirst }}, {{ $parent.altShippingAddr.state }} <br/></span>
                                <span class="text-white">{{ $parent.altShippingAddr.postalCode | formatPostalCode }}<br/></span>
                                <span ng-if="$parent.altShippingAddr.country==='CA'" class="text-white">Canada</span>
                                <span ng-if="$parent.altShippingAddr.country==='US'" class="text-white">United States</span>
                            </div>
                            <div class="col-xs-4 text-right">
                                <div class="row margin-left-15">
                                    <span class="fa fa-truck fa-3x text-white"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="divider double-line" ng-show="$parent.altShippingAddr"></div>

        <div class="box-static margin-bottom-30">
            <div class="box-title">
                <h3>Shipping Information</h3>
            </div>
            <form class="row clearfix" novalidate>
                <fieldset class="margin-top-30">
                    <div class="col-xs-12 form-group" ng-class="{ 'has-error' : validationErrors.shipping.name }">
                        <label for="shipping_name"><small>* Full Name</small></label>
                        <input class="form-control required" id="shipping_name" name="name"
                               type="text" ng-model="shipping.name" placeholder="Name Of Recipient" autocomplete="off" />
                        <p class="text-danger" ng-show="validationErrors.shipping.name">{{ validationErrors.shipping.name }}</p>
                    </div>
                    <div class="col-md-6 col-xs-12 form-group" ng-class="{ 'has-error' : validationErrors.shipping.company }">
                        <label for="shipping_company"><small>Company / Org</small></label>
                        <input class="form-control" id="shipping_company" name="shipping-organization"
                               type="text" ng-model="shipping.company" placeholder="(Optional)" autocomplete="off" />
                        <p class="text-danger" ng-show="validationErrors.shipping.company">{{ validationErrors.shipping.company }}</p>
                    </div>
                    <div class="col-xs-12 form-group" ng-class="{ 'has-error' : validationErrors.shipping.address.line1 }">
                        <label for="shipping_address1"><small>* Address</small></label>
                        <input class="form-control required" id="shipping_address1" name="shipping-address-line1"
                               type="text" ng-model="shipping.address.line1" autocomplete="off" />
                        <p class="text-danger" ng-show="validationErrors.shipping.address.line1">{{ validationErrors.shipping.address.line1 }}</p>

                        <label for="shipping_address2"><small>Apartment, Suite, Floor, etc...</small></label>
                        <input class="form-control" id="shipping_address2" name="shipping-address-line2"
                               type="text" ng-model="shipping.address.line2" placeholder="(Optional) Ex: Apt 123" autocomplete="off" />
                        <p class="text-danger" ng-show="validationErrors.shipping.address.line2">{{ validationErrors.shipping.address.line2 }}</p>
                    </div>
                    <div class="col-md-6 col-xs-12" ng-class="{ 'has-error' : validationErrors.shipping.address.country }">
                        <label for="shipping_country"><small>* Country</small></label>
                        <select id="shipping_country" name="shipping-country" class="form-control input-normal" ng-model="shipping.address.country">
                            <option value="CA">Canada</option>
                            <option value="US">United States</option>
                        </select>
                        <p class="text-danger" ng-show="validationErrors.shipping.address.country">{{ validationErrors.shipping.address.country }}</p>
                    </div>
                    <div class="col-md-6 col-xs-12 form-group" ng-class="{ 'has-error' : validationErrors.shipping.address.city }">
                        <label for="shipping_city"><small>* City / Town</small></label>
                        <input class="form-control required" id="shipping_city" name="shipping-city"
                               type="text" ng-model="shipping.address.city" autocomplete="off" />
                        <p class="text-danger" ng-show="validationErrors.shipping.address.city">{{ validationErrors.shipping.address.city }}</p>
                    </div>
                    <div class="col-md-6 col-xs-12 form-group" ng-class="{ 'has-error' : validationErrors.shipping.address.state }">
                        <label for="shipping_state"><small>* State / Province</small></label>
                        <select class="form-control input-normal" id="shipping_state" name="shipping-state"
                                ng-options="o.id as o.name for o in activeProvinceSelect" ng-model="shipping.address.state" required>
                        </select>
                        <p class="text-danger" ng-show="validationErrors.shipping.address.state">{{ validationErrors.shipping.address.state }}</p>
                    </div>
                    <div class="col-md-6 col-xs-12 form-group" ng-class="{ 'has-error' : validationErrors.shipping.address.postal_code }">
                        <label for="shipping_postal"><small>* Postal/Zip Code</small></label>
                        <input class="form-control required" id="shipping_postal" name="shipping-postal"
                               type="text" ng-model="shipping.address.postal_code" autocomplete="off" />
                        <p class="text-danger" ng-show="validationErrors.shipping.address.postal_code">{{ validationErrors.shipping.address.postal_code }}</p>
                    </div>
                </fieldset>

                <button href="/My-Account" ng-show="!updateInProgress" ng-hide="successfullyUpdated" ng-disabled="updateInProgress" class="btn btn-default margin-right-20 pull-right">Cancel</button>
                <button ng-show="!updateInProgress" ng-hide="successfullyUpdated" ng-disabled="updateInProgress" class="btn btn-green margin-right-20 pull-right" ng-click="updateShipping()">
                    Update Shipping
                </button>

                <span ng-show="updateInProgress" class="three-quarters-loader margin-top-20 pull-right"></span>

                <div ng-show="successfullyUpdated" class="alert alert-success margin-top-30 padding-bottom-30">
                    <div class="row">
                        <strong class="pull-left">Successfully updated your shipping information</strong>
                        <a href="/My-Account" class="btn btn-default pull-right">Back To Account</a>
                    </div>
                </div>
            </form>

        </div>

    </div>

</div>